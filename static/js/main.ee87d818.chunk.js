(this["webpackJsonpbooks-shelf"]=this["webpackJsonpbooks-shelf"]||[]).push([[0],{28:function(e,t,a){e.exports=a.p+"static/media/error-404.cf72433f.png"},30:function(e,t,a){e.exports=a(41)},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),l=a.n(c),o=a(6),i=a(11),m=a(13),s=a(8),u=a(2),d="BOOKS_ADDED",b="BOOKS_EDIT",p="BOOKS_REMOVE",f="ALERT_VISIBLE",E="ALERT_HIDE",v="ALL_ALERT_HIDE",h="SEARCH_BOOKS",g=[{id:1,title:"Production-Ready Microservices",author:"Susan J. Fowler",year:2018,coverImage:"https://images-na.ssl-images-amazon.com/images/I/41yJ75gpV-L._SX381_BO1,204,203,200_.jpg"},{id:2,title:"Release It!",author:"Michael T. Nygard",year:2017,coverImage:"https://images-na.ssl-images-amazon.com/images/I/414CRjLjwgL._SX403_BO1,204,203,200_.jpg"},{id:3,title:"React \u0438 Redux. \u0424\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u0430\u044f \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430",author:"\u0411\u044d\u043d\u043a\u0441 \u0410\u043b\u0435\u043a\u0441, \u041f\u043e\u0440\u0441\u0435\u043b\u043b\u043e \u0415\u0432\u0430",year:2018,coverImage:"https://cdn1.ozone.ru/multimedia/c650/1021367273.jpg"}],O=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case d:var n=a.payload;return n=void 0===(null===(e=t[0])||void 0===e?void 0:e.id)?Object(u.a)(Object(u.a)({},n),{},{id:1}):Object(u.a)(Object(u.a)({},n),{},{id:t[t.length-1].id+1}),[].concat(Object(s.a)(t),[n]);case b:var r=a.payload,c=t.findIndex((function(e){return e.id===r.id}));return[].concat(Object(s.a)(t.slice(0,c)),[r],Object(s.a)(t.slice(c+1)));case p:var l=a.payload,o=t.findIndex((function(e){return e.id===l}));return[].concat(Object(s.a)(t.slice(0,o)),Object(s.a)(t.slice(o+1)));default:return t}},j={title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435",visible:!1},_=[Object(u.a)(Object(u.a)({},j),{},{field:"name",text:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 3 \u0431\u0443\u043a\u0432"}),Object(u.a)(Object(u.a)({},j),{},{field:"author",text:"\u0418\u043d\u0438\u0446\u0438\u0430\u043b\u044b \u0430\u0432\u0442\u043e\u0440\u0430 \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 3 \u0431\u0443\u043a\u0432"}),Object(u.a)(Object(u.a)({},j),{},{field:"year",text:"\u0418\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043d\u0435 \u0440\u0430\u043d\u044c\u0448\u0435 2017 \u0433\u043e\u0434\u0430"}),Object(u.a)(Object(u.a)({},j),{},{field:"images",text:"\u0422\u0438\u043f \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u043e\u0439 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"})],N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:var a=t.payload,n=e.findIndex((function(e){return e.field===a})),r=Object(u.a)(Object(u.a)({},e[n]),{},{visible:!0});return[].concat(Object(s.a)(e.slice(0,n)),[r],Object(s.a)(e.slice(n+1)));case E:var c=t.payload,l=e.findIndex((function(e){return e.field===c})),o=Object(u.a)(Object(u.a)({},e[l]),{},{visible:!1});return[].concat(Object(s.a)(e.slice(0,l)),[o],Object(s.a)(e.slice(l+1)));case v:return Object(s.a)(e.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{visible:!1})})));default:return e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return t.payload;default:return e}},k=Object(m.b)({books:O,alert:N,term:y}),x=function(){return Object(m.c)(k,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},I=a(3),S=a(42),w=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-title"},"\u041a\u043d\u0438\u0436\u043d\u0430\u044f \u043f\u043e\u043b\u043a\u0430"))},C=function(){return r.a.createElement(i.b,{className:"btn-add-book",to:"/books-shelf/form/"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043d\u0438\u0433\u0443")},L=function(e){return{type:f,payload:e}},R=function(){var e=Object(o.c)((function(e){return e.term})),t=Object(o.b)();return r.a.createElement("div",{className:"search"},r.a.createElement("input",{className:"search-input",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438",value:e,onChange:function(e){return t(function(e){return{type:h,payload:e}}(e.target.value))}}))},D=a(43),T=function(e){var t=e.id,a=e.title,n=e.author,c=e.year,l=e.coverImage,i=e.history,m=Object(o.b)();return r.a.createElement("tr",{className:"list-item__row"},r.a.createElement("td",{className:"list-item__col"},r.a.createElement("div",{className:"item-img"},r.a.createElement("img",{src:l,alt:"book-img"})),r.a.createElement("div",{className:"item-desc"},r.a.createElement("div",{className:"item-desc-name"},r.a.createElement("a",{href:"https://www.google.com/search?q=".concat(a.split(" ").join("+"),"&oq=").concat(a.split(" ").join("+")),target:"_blank",rel:"noopener noreferrer"},a)),r.a.createElement("div",{className:"item-desc-author"},n),r.a.createElement("div",{className:"item-desc-year"},c," \u0433.")),r.a.createElement("div",{className:"item-panel"},r.a.createElement("button",{className:"item-panel-edit panel-btn",onClick:function(){return i.push("/books-shelf/form/".concat(t))}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement("button",{className:"item-panel-delete panel-btn",onClick:function(){return m(function(e){return{type:p,payload:e}}(t))}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))};T.defaultProps={id:1,title:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432 \u043a\u043d\u0438\u0433\u0438",author:"\u0410\u0432\u0442\u043e\u0440 \u043a\u043d\u0438\u0433\u0438",year:"\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430 \u043a\u043d\u0438\u0433\u0438",coverImage:"https://cdn1.ozone.ru/multimedia/1031049553.jpg"};var B=Object(I.e)(T),z=function(){var e=Object(o.c)((function(e){return e.books})),t=Object(o.c)((function(e){return e.term})),a=e.filter((function(e){return-1!==e.title.toLowerCase().indexOf(t.toLowerCase())})).map((function(e){return r.a.createElement(S.a,{key:e.id,timeout:750,classNames:"list-item-animation"},r.a.createElement(B,e))}));return r.a.createElement("table",{className:"table-books"},r.a.createElement("tbody",{className:"table-books__body"},0===a.length?r.a.createElement("tr",{className:"list-empty__row"},r.a.createElement("td",{className:"list-empty__col"},"\u041f\u043e\u043b\u043a\u0430 \u043a\u043d\u0438\u0433 \u043f\u0443\u0441\u0442\u0430")):r.a.createElement(D.a,{enter:!0,exit:!0,component:null},a)))},F=function(){return r.a.createElement("div",{className:"page-books"},r.a.createElement(C,null),r.a.createElement(R,null),r.a.createElement(z,null))},A=a(15),X=function(e){var t=e.title,a=e.text,n=e.visible,c=e.field,l=Object(o.b)();return r.a.createElement(S.a,{in:n,timeout:500,classNames:"alert-animation",unmountOnExit:!0},r.a.createElement("div",{className:"alert"},r.a.createElement("div",{className:"alert-title"},t,"!"),r.a.createElement("div",{className:"alert-text"},a),r.a.createElement("div",{className:"alert-close",onClick:function(){return l({type:E,payload:c})}})))};X.defaultProps={title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435",text:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0442\u0438\u043f \u043f\u043e\u043b\u044f",visible:!1};var K=X,V=Object(I.e)((function(e){var t,a=e.match,c=e.history,l=null===a||void 0===a||null===(t=a.params)||void 0===t?void 0:t.id,i=Object(o.c)((function(e){return e.alert})),m=Object(o.c)((function(e){return e.books.find((function(e){var t=e.id;return+l===t}))})),s=Object(o.b)(),p=Object(n.useState)("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435"),f=Object(A.a)(p,2),E=f[0],h=f[1],g=Object(n.useState)(""),O=Object(A.a)(g,2),j=O[0],_=O[1],N=Object(n.useState)(""),y=Object(A.a)(N,2),k=y[0],x=y[1],I=Object(n.useState)(""),S=Object(A.a)(I,2),w=S[0],C=S[1],R=Object(n.useState)(""),D=Object(A.a)(R,2),T=D[0],B=D[1];Object(n.useEffect)((function(){void 0!==m&&(h("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"),_(m.title),x(m.author),C(m.year),B(m.coverImage))}),[]);var z=function(){_(""),x(""),C(""),B(""),c.push("/books-shelf/"),s({type:v})};return r.a.createElement("form",{className:"form-book",onSubmit:function(e){if(e.preventDefault(),function(){var e=!0;return j.length<3&&(s(L("name")),e=!1),k.length<3&&(s(L("author")),e=!1),+w<2017&&(s(L("year")),e=!1),/\.(png|jpe?g|gif)$/i.test(T)||/^https?:\/\//i.test(T)||(s(L("images")),e=!1),e}())if(void 0===m){s({type:d,payload:{title:j,author:k,year:w,coverImage:T}}),z()}else{var t=Object(u.a)(Object(u.a)({},m),{},{title:j,author:k,year:w,coverImage:T});s(function(e){return{type:b,payload:e}}(t)),z()}}},r.a.createElement("h3",{className:"form-book__title"},E," \u043a\u043d\u0438\u0433\u0438"),r.a.createElement("div",{className:"form-book__name"},r.a.createElement(K,i[0]),r.a.createElement("label",{htmlFor:"book-name"},"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("input",{id:"book-name",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438",value:j,onChange:function(e){return _(e.target.value)}})),r.a.createElement("div",{className:"form-book__author"},r.a.createElement(K,i[1]),r.a.createElement("label",{htmlFor:"book-author"},"\u0410\u0432\u0442\u043e\u0440"),r.a.createElement("input",{id:"book-author",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0432\u0442\u043e\u0440\u0430 \u043a\u043d\u0438\u0433\u0438",value:k,onChange:function(e){return x(e.target.value)}})),r.a.createElement("div",{className:"form-book__year"},r.a.createElement(K,i[2]),r.a.createElement("label",{htmlFor:"book-year"},"\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430"),r.a.createElement("input",{id:"book-year",type:"number",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430 \u043a\u043d\u0438\u0433\u0438",value:w,onChange:function(e){return C(e.target.value)}})),r.a.createElement("div",{className:"form-book__images"},r.a.createElement(K,i[3]),r.a.createElement("label",{htmlFor:"book-images"},"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"),r.a.createElement("input",{id:"book-images",type:"text",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",value:T,onChange:function(e){return B(e.target.value)}})),r.a.createElement("div",{className:"form-book__buttons"},r.a.createElement("button",{type:"submit",className:"save"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement("button",{type:"button",className:"cancel",onClick:z},"\u041e\u0442\u043c\u0435\u043d\u0430")))})),J=function(){return r.a.createElement("div",{className:"page-form-books"},r.a.createElement(V,null))},H=a(28),M=a.n(H),P=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"title"},"\u041f\u043e \u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u0430\u0434\u0440\u0435\u0441\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"),r.a.createElement("div",{className:"home"},r.a.createElement("img",{src:M.a,alt:"error-img"}),r.a.createElement(i.b,{to:"/books-shelf/"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e")))},q=function(){return r.a.createElement("div",{className:"page-not-found"},r.a.createElement(P,null))},U=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"footer-box"},r.a.createElement("div",{className:"footer-box__author",title:"\u0410\u0432\u0442\u043e\u0440 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"},"\u041a\u0438\u0440\u0438\u043b\u043b \u041c\u043e\u0440\u043e\u0437\u043e\u0432"),r.a.createElement("div",{className:"footer-box__contacts"},r.a.createElement("div",{className:"icon icon-github"},r.a.createElement("a",{href:"https://github.com/kirillmorozov1994",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"https://img.icons8.com/ios-filled/50/000000/github.png",alt:"github-img"}))),r.a.createElement("div",{className:"icon icon-telegramm"},r.a.createElement("a",{href:"https://t.me/Kirll_1994",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"https://img.icons8.com/ios-filled/50/000000/telegram-app.png",alt:"telegramm-img"}))),r.a.createElement("div",{className:"icon icon-vk"},r.a.createElement("a",{href:"https://vk.com/kirson.morozov",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"https://img.icons8.com/ios-filled/50/000000/vk-circled.png",alt:"vk-img"}))),r.a.createElement("div",{className:"icon icon-mail"},r.a.createElement("a",{href:"mailto:kirill.morozov_1994@mail.ru",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"https://img.icons8.com/ios-filled/50/000000/important-mail.png",alt:"mail-img"}))))))},$=function(){var e=[{path:"/books-shelf/",Component:F},{path:"/books-shelf/form/:id?",Component:J},{path:"/books-shelf/:error404",Component:q}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null),r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"app-box"},r.a.createElement("div",{className:"page"},e.map((function(e){var t=e.path,a=e.Component;return"/books-shelf/:error404"===t?r.a.createElement(I.a,{key:t,path:t},(function(e){var t=e.match;return r.a.createElement(S.a,{in:null!==t&&"form"!==t.params.error404,timeout:1e3,classNames:"page",appear:!0,unmountOnExit:!0},r.a.createElement(a,null))})):r.a.createElement(I.a,{key:t,path:t,exact:!0},(function(e){var t=e.match;return r.a.createElement(S.a,{in:null!==t,timeout:1e3,classNames:"page",appear:!0,unmountOnExit:!0},r.a.createElement(a,null))}))}))))),r.a.createElement(U,null))},G=(a(40),x());l.a.render(r.a.createElement(o.a,{store:G},r.a.createElement(i.a,null,r.a.createElement($,null))),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.ee87d818.chunk.js.map