(this["webpackJsonpbooks-shelf"]=this["webpackJsonpbooks-shelf"]||[]).push([[0],{29:function(e,t,a){e.exports=a.p+"static/media/error-404.cf72433f.png"},31:function(e,t,a){e.exports=a(42)},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),c=a.n(l),o=a(6),i=a(11),m=a(13),s=a(28),u="@@INIT",b="BOOKS_ADDED",d="BOOKS_EDIT",f="BOOKS_REMOVE",p="ALERT_VISIBLE",E="ALERT_HIDE",v="ALL_ALERT_HIDE",g="SEARCH_BOOKS",h=a(9),O=a(2),j=function(e){return localStorage.setItem("books",JSON.stringify(e))},k=function(e){return{type:p,payload:e}},N=[{id:1,title:"Production-Ready Microservices",author:"Susan J. Fowler",year:2018,coverImage:"https://images-na.ssl-images-amazon.com/images/I/41yJ75gpV-L._SX381_BO1,204,203,200_.jpg"},{id:2,title:"Release It!",author:"Michael T. Nygard",year:2017,coverImage:"https://images-na.ssl-images-amazon.com/images/I/414CRjLjwgL._SX403_BO1,204,203,200_.jpg"},{id:3,title:"React \u0438 Redux. \u0424\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u0430\u044f \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430",author:"\u0411\u044d\u043d\u043a\u0441 \u0410\u043b\u0435\u043a\u0441, \u041f\u043e\u0440\u0441\u0435\u043b\u043b\u043e \u0415\u0432\u0430",year:2018,coverImage:"https://cdn1.ozone.ru/multimedia/c650/1021367273.jpg"}],y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case u:var r=localStorage.getItem("books");return null===r?(localStorage.clear(),j(e),e):JSON.parse(r);case b:case d:case f:return n;default:return e}},_={title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435",visible:!1},x=[Object(O.a)(Object(O.a)({},_),{},{field:"name",text:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 3 \u0431\u0443\u043a\u0432"}),Object(O.a)(Object(O.a)({},_),{},{field:"author",text:"\u0418\u043d\u0438\u0446\u0438\u0430\u043b\u044b \u0430\u0432\u0442\u043e\u0440\u0430 \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 3 \u0431\u0443\u043a\u0432"}),Object(O.a)(Object(O.a)({},_),{},{field:"year",text:"\u0418\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043d\u0435 \u0440\u0430\u043d\u044c\u0448\u0435 2017 \u0433\u043e\u0434\u0430"}),Object(O.a)(Object(O.a)({},_),{},{field:"images",text:"\u0422\u0438\u043f \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u043e\u0439 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"})],I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:var a=t.payload,n=e.findIndex((function(e){return e.field===a})),r=Object(O.a)(Object(O.a)({},e[n]),{},{visible:!0});return[].concat(Object(h.a)(e.slice(0,n)),[r],Object(h.a)(e.slice(n+1)));case E:var l=t.payload,c=e.findIndex((function(e){return e.field===l})),o=Object(O.a)(Object(O.a)({},e[c]),{},{visible:!1});return[].concat(Object(h.a)(e.slice(0,c)),[o],Object(h.a)(e.slice(c+1)));case v:return Object(h.a)(e.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{visible:!1})})));default:return e}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return t.payload;default:return e}},C=Object(m.c)({books:y,alert:I,term:S}),w=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d,L=function(){return Object(m.e)(C,w(Object(m.a)(s.a)))},R=a(3),D=a(43),B=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-title"},"\u041a\u043d\u0438\u0436\u043d\u0430\u044f \u043f\u043e\u043b\u043a\u0430"))},T=function(){return r.a.createElement(i.b,{className:"btn-add-book",to:"/books-shelf/form/"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043d\u0438\u0433\u0443")},z=function(){var e=Object(o.c)((function(e){return e.term})),t=Object(o.b)();return r.a.createElement("div",{className:"search"},r.a.createElement("input",{className:"search-input",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438",value:e,onChange:function(e){return t(function(e){return{type:g,payload:e}}(e.target.value))}}))},F=a(44),A=function(e){var t=e.id,a=e.title,n=e.author,l=e.year,c=e.coverImage,i=e.history,m=Object(o.b)();return r.a.createElement("tr",{className:"list-item__row"},r.a.createElement("td",{className:"list-item__col"},r.a.createElement("div",{className:"item-img"},r.a.createElement("img",{src:c,alt:"book-img"})),r.a.createElement("div",{className:"item-desc"},r.a.createElement("div",{className:"item-desc-name"},r.a.createElement("a",{href:"https://www.google.com/search?q=".concat(a.split(" ").join("+"),"&oq=").concat(a.split(" ").join("+")),target:"_blank",rel:"noopener noreferrer"},a)),r.a.createElement("div",{className:"item-desc-author"},n),r.a.createElement("div",{className:"item-desc-year"},l," \u0433.")),r.a.createElement("div",{className:"item-panel"},r.a.createElement("button",{className:"item-panel-edit panel-btn",onClick:function(){return i.push("/books-shelf/form/".concat(t))}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement("button",{className:"item-panel-delete panel-btn",onClick:function(){return m((e=t,function(t,a){var n=a().books.filter((function(t){return t.id!==e}));j(n),t({type:f,payload:n})}));var e}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))))};A.defaultProps={id:1,title:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432 \u043a\u043d\u0438\u0433\u0438",author:"\u0410\u0432\u0442\u043e\u0440 \u043a\u043d\u0438\u0433\u0438",year:"\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430 \u043a\u043d\u0438\u0433\u0438",coverImage:"https://cdn1.ozone.ru/multimedia/1031049553.jpg"};var J=Object(R.e)(A),K=function(){var e=Object(o.c)((function(e){return e.books})),t=Object(o.c)((function(e){return e.term})),a=e.filter((function(e){return-1!==e.title.toLowerCase().indexOf(t.toLowerCase())})).map((function(e){return r.a.createElement(D.a,{key:e.id,timeout:750,classNames:"list-item-animation"},r.a.createElement(J,e))}));return r.a.createElement("table",{className:"table-books"},r.a.createElement("tbody",{className:"table-books__body"},0===a.length?r.a.createElement("tr",{className:"list-empty__row"},r.a.createElement("td",{className:"list-empty__col"},"\u041f\u043e\u043b\u043a\u0430 \u043a\u043d\u0438\u0433 \u043f\u0443\u0441\u0442\u0430")):r.a.createElement(F.a,{enter:!0,exit:!0,component:null},a)))},M=function(){return r.a.createElement("div",{className:"page-books"},r.a.createElement(T,null),r.a.createElement(z,null),r.a.createElement(K,null))},P=a(15),V=function(e){var t=e.title,a=e.text,n=e.visible,l=e.field,c=Object(o.b)();return r.a.createElement(D.a,{in:n,timeout:500,classNames:"alert-animation",unmountOnExit:!0},r.a.createElement("div",{className:"alert"},r.a.createElement("div",{className:"alert-title"},t,"!"),r.a.createElement("div",{className:"alert-text"},a),r.a.createElement("div",{className:"alert-close",onClick:function(){return c({type:E,payload:l})}})))};V.defaultProps={title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435",text:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0442\u0438\u043f \u043f\u043e\u043b\u044f",visible:!1};var X=V,H=Object(R.e)((function(e){var t,a=e.match,l=e.history,c=null===a||void 0===a||null===(t=a.params)||void 0===t?void 0:t.id,i=Object(o.c)((function(e){return e.alert})),m=Object(o.c)((function(e){return e.books.find((function(e){var t=e.id;return+c===t}))})),s=Object(o.b)(),u=Object(n.useState)("\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435"),f=Object(P.a)(u,2),p=f[0],E=f[1],g=Object(n.useState)(""),N=Object(P.a)(g,2),y=N[0],_=N[1],x=Object(n.useState)(""),I=Object(P.a)(x,2),S=I[0],C=I[1],w=Object(n.useState)(""),L=Object(P.a)(w,2),R=L[0],D=L[1],B=Object(n.useState)(""),T=Object(P.a)(B,2),z=T[0],F=T[1];Object(n.useEffect)((function(){void 0!==m&&(E("\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"),_(m.title),C(m.author),D(m.year),F(m.coverImage))}),[]);var A=function(){_(""),C(""),D(""),F(""),l.push("/books-shelf/"),s({type:v})};return r.a.createElement("form",{className:"form-book",onSubmit:function(e){if(e.preventDefault(),function(){var e=!0;return y.length<3&&(s(k("name")),e=!1),S.length<3&&(s(k("author")),e=!1),+R<2017&&(s(k("year")),e=!1),/\.(png|jpe?g|gif)$/i.test(z)||/^https?:\/\//i.test(z)||(s(k("images")),e=!1),e}())if(void 0===m){s((a={title:y,author:S,year:R,coverImage:z},function(e,t){var n,r,l=t().books;r=void 0===(null===(n=l[0])||void 0===n?void 0:n.id)?Object(O.a)(Object(O.a)({},a),{},{id:1}):Object(O.a)(Object(O.a)({},a),{},{id:l[l.length-1].id+1});var c=[].concat(Object(h.a)(l),[r]);j(c),e({type:b,payload:c})})),A()}else{var t=Object(O.a)(Object(O.a)({},m),{},{title:y,author:S,year:R,coverImage:z});s(function(e){return function(t,a){var n=a().books,r=n.findIndex((function(t){return t.id===e.id})),l=[].concat(Object(h.a)(n.slice(0,r)),[e],Object(h.a)(n.slice(r+1)));j(l),t({type:d,payload:l})}}(t)),A()}var a}},r.a.createElement("h3",{className:"form-book__title"},p," \u043a\u043d\u0438\u0433\u0438"),r.a.createElement("div",{className:"form-book__name"},r.a.createElement(X,i[0]),r.a.createElement("label",{htmlFor:"book-name"},"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),r.a.createElement("input",{id:"book-name",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438",value:y,onChange:function(e){return _(e.target.value)}})),r.a.createElement("div",{className:"form-book__author"},r.a.createElement(X,i[1]),r.a.createElement("label",{htmlFor:"book-author"},"\u0410\u0432\u0442\u043e\u0440"),r.a.createElement("input",{id:"book-author",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0432\u0442\u043e\u0440\u0430 \u043a\u043d\u0438\u0433\u0438",value:S,onChange:function(e){return C(e.target.value)}})),r.a.createElement("div",{className:"form-book__year"},r.a.createElement(X,i[2]),r.a.createElement("label",{htmlFor:"book-year"},"\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430"),r.a.createElement("input",{id:"book-year",type:"number",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430 \u043a\u043d\u0438\u0433\u0438",value:R,onChange:function(e){return D(e.target.value)}})),r.a.createElement("div",{className:"form-book__images"},r.a.createElement(X,i[3]),r.a.createElement("label",{htmlFor:"book-images"},"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"),r.a.createElement("input",{id:"book-images",type:"text",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",value:z,onChange:function(e){return F(e.target.value)}})),r.a.createElement("div",{className:"form-book__buttons"},r.a.createElement("button",{type:"submit",className:"save"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement("button",{type:"button",className:"cancel",onClick:A},"\u041e\u0442\u043c\u0435\u043d\u0430")))})),q=function(){return r.a.createElement("div",{className:"page-form-books"},r.a.createElement(H,null))},U=a(29),$=a.n(U),G=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"title"},"\u041f\u043e \u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u0430\u0434\u0440\u0435\u0441\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"),r.a.createElement("div",{className:"home"},r.a.createElement("img",{src:$.a,alt:"error-img"}),r.a.createElement(i.b,{to:"/books-shelf/"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e")))},Q=function(){return r.a.createElement("div",{className:"page-not-found"},r.a.createElement(G,null))},W=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"footer-box"},r.a.createElement("div",{className:"footer-box__author",title:"\u0410\u0432\u0442\u043e\u0440 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"},"\u041a\u0438\u0440\u0438\u043b\u043b \u041c\u043e\u0440\u043e\u0437\u043e\u0432"),r.a.createElement("div",{className:"footer-box__contacts"},r.a.createElement("div",{className:"icon icon-github"},r.a.createElement("a",{href:"https://github.com/kirillmorozov1994",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"https://img.icons8.com/ios-filled/50/000000/github.png",alt:"github-img"}))),r.a.createElement("div",{className:"icon icon-telegramm"},r.a.createElement("a",{href:"https://t.me/Kirll_1994",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"https://img.icons8.com/ios-filled/50/000000/telegram-app.png",alt:"telegramm-img"}))),r.a.createElement("div",{className:"icon icon-vk"},r.a.createElement("a",{href:"https://vk.com/kirson.morozov",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"https://img.icons8.com/ios-filled/50/000000/vk-circled.png",alt:"vk-img"}))),r.a.createElement("div",{className:"icon icon-mail"},r.a.createElement("a",{href:"mailto:kirill.morozov_1994@mail.ru",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"https://img.icons8.com/ios-filled/50/000000/important-mail.png",alt:"mail-img"}))))))},Y=function(){var e=[{path:"/books-shelf/",Component:M},{path:"/books-shelf/form/:id?",Component:q},{path:"/books-shelf/:error404",Component:Q}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(B,null),r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"app-box"},r.a.createElement("div",{className:"page"},e.map((function(e){var t=e.path,a=e.Component;return"/books-shelf/:error404"===t?r.a.createElement(R.a,{key:t,path:t},(function(e){var t=e.match;return r.a.createElement(D.a,{in:null!==t&&"form"!==t.params.error404,timeout:1e3,classNames:"page",appear:!0,unmountOnExit:!0},r.a.createElement(a,null))})):r.a.createElement(R.a,{key:t,path:t,exact:!0},(function(e){var t=e.match;return r.a.createElement(D.a,{in:null!==t,timeout:1e3,classNames:"page",appear:!0,unmountOnExit:!0},r.a.createElement(a,null))}))}))))),r.a.createElement(W,null))},Z=(a(41),L());c.a.render(r.a.createElement(o.a,{store:Z},r.a.createElement(i.a,null,r.a.createElement(Y,null))),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.a88dd01d.chunk.js.map